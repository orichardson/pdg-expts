\documentclass[twoside]{article} % PREAMBLE
    \relax % Controls
        \newif\ifmarginprooflinks
        	\marginprooflinkstrue
        	% \marginprooflinksfalse

    \relax % Bibliography, etc
    	\usepackage[american]{babel}
    	\usepackage{csquotes}
    	\usepackage[backend=biber, style=authoryear]{biblatex}
    	\DeclareLanguageMapping{american}{american-apa}
    	% \usepackage[backend=biber,style=authoryear,hyperref=true]{biblatex}
    	\addbibresource{refs.bib}

    	\DeclareFieldFormat{citehyperref}{%
    	  \DeclareFieldAlias{bibhyperref}{noformat}% Avoid nested links
    	  \bibhyperref{#1}}

    	\DeclareFieldFormat{textcitehyperref}{%
    	  \DeclareFieldAlias{bibhyperref}{noformat}% Avoid nested links
    	  \bibhyperref{%
    	    #1%
    	    \ifbool{cbx:parens}
    	      {\bibcloseparen\global\boolfalse{cbx:parens}}
    	      {}}}

    	\savebibmacro{cite}
    	\savebibmacro{textcite}

    	\renewbibmacro*{cite}{%
    	  \printtext[citehyperref]{%
    	    \restorebibmacro{cite}%
    	    \usebibmacro{cite}}}

    	\renewbibmacro*{textcite}{%
    	  \ifboolexpr{
    	    ( not test {\iffieldundef{prenote}} and
    	      test {\ifnumequal{\value{citecount}}{1}} )
    	    or
    	    ( not test {\iffieldundef{postnote}} and
    	      test {\ifnumequal{\value{citecount}}{\value{citetotal}}} )
    	  }
    	    {\DeclareFieldAlias{textcitehyperref}{noformat}}
    	    {}%
    	  \printtext[textcitehyperref]{%
    	    \restorebibmacro{textcite}%
    	    \usebibmacro{textcite}}}

    	\DeclareCiteCommand{\brakcite}
    	  {\usebibmacro{prenote}}
    	  {\usebibmacro{citeindex}%
    	   \printtext[bibhyperref]{[\usebibmacro{cite}]}}
    	  {\multicitedelim}
    	  {\usebibmacro{postnote}}

    \relax % Standard Packages
        \usepackage[dvipsnames]{xcolor}
        % \usepackage[utf8]{inputenc}
        \usepackage{mathtools}
        \usepackage{amssymb}
    		\DeclareMathSymbol{\shortminus}{\mathbin}{AMSa}{"39}
        % \usepackage{parskip}
        % \usepackage{algorithm}
        \usepackage{bbm}
    	\usepackage{lmodern}
    	% \usepackage{times}
        \usepackage{faktor}
        % \usepackage{booktabs}
    	% \usepackage[margin=1in]{geometry}
        \usepackage{graphicx}
        \usepackage{scalerel}
        \usepackage{enumitem}
        \usepackage{nicefrac}\let\nf\nicefrac

        % \usepackage{color}
        \usepackage{stmaryrd}
        \usepackage{hyperref} % Load before theorems...
            \hypersetup{colorlinks=true, linkcolor=blue!75!black, urlcolor=magenta, citecolor=green!50!black}

    \usepackage{tikz}
    	\usetikzlibrary{positioning,fit,calc, decorations, arrows, shapes, shapes.geometric}
    	\usetikzlibrary{cd}

    	%%%%%%%%%%%%
    	\tikzset{AmpRep/.style={ampersand replacement=\&}}
    	\tikzset{center base/.style={baseline={([yshift=-.8ex]current bounding box.center)}}}
    	\tikzset{paperfig/.style={center base,scale=0.9, every node/.style={transform shape}}}

    	% Node Stylings
    	\tikzset{dpadded/.style={rounded corners=2, inner sep=0.7em, draw, outer sep=0.3em, fill={black!50}, fill opacity=0.08, text opacity=1}}
    	\tikzset{dpad0/.style={outer sep=0.05em, inner sep=0.3em, draw=gray!75, rounded corners=4, fill=black!08, fill opacity=1, align=center}}
    	\tikzset{dpadinline/.style={outer sep=0.05em, inner sep=2.5pt, rounded corners=2.5pt, draw=gray!75, fill=black!08, fill opacity=1, align=center, font=\small}}

     	\tikzset{dpad/.style args={#1}{every matrix/.append style={nodes={dpadded, #1}}}}
    	\tikzset{light pad/.style={outer sep=0.2em, inner sep=0.5em, draw=gray!50}}

    	\tikzset{arr/.style={draw, ->, thick, shorten <=3pt, shorten >=3pt}}
    	\tikzset{arr0/.style={draw, ->, thick, shorten <=0pt, shorten >=0pt}}
    	\tikzset{arr1/.style={draw, ->, thick, shorten <=1pt, shorten >=1pt}}
    	\tikzset{arr2/.style={draw, ->, thick, shorten <=2pt, shorten >=2pt}}

    	\newcommand\cmergearr[5][]{
    		\draw[arr, #1, -] (#2) -- (#5) -- (#3);
    		\draw[arr, #1, shorten <=0] (#5) -- (#4);
    		}
    	\newcommand\mergearr[4][]{
    		\coordinate (center-#2#3#4) at (barycentric cs:#2=1,#3=1,#4=1.2);
    		\cmergearr[#1]{#2}{#3}{#4}{center-#2#3#4}
    		}
    	\newcommand\cunmergearr[5][]{
    		\draw[arr, #1, -, shorten >=0] (#2) -- (#5);
    		\draw[arr, #1, shorten <=0] (#5) -- (#3);
    		\draw[arr, #1, shorten <=0] (#5) -- (#4);
    		}
    	\newcommand\unmergearr[4][]{
    		\coordinate (center-#2#3#4) at (barycentric cs:#2=1.2,#3=1,#4=1);
    		\cunmergearr[#1]{#2}{#3}{#4}{center-#2#3#4}
    		}

    \usepackage{amsthm,thmtools} % Theorem Macros
    	\usepackage[noabbrev,nameinlink,capitalize]{cleveref}
        \theoremstyle{plain}
        \newtheorem{theorem}{Theorem}
    	\newtheorem{coro}{Corollary}[theorem]
        \newtheorem{prop}[theorem]{Proposition}
        \newtheorem{claim}{Claim}
        \newtheorem{remark}{Remark}
        \newtheorem{lemma}[theorem]{Lemma}
        \theoremstyle{definition}
        % \newtheorem{defn}{Definition}
        % \declaretheorem[name=Definition]{defn}
        \declaretheorem[name=Definition, qed=$\square$]{defn}
        \declaretheorem[name=Example, qed=$\triangle$]{example}

    	\crefname{defn}{Definition}{Definitions}
    	\crefname{prop}{Proposition}{Propositions}
        \crefname{issue}{Issue}{Issues}
        
    \relax %%% %SETS %%%%
        \newcommand{\BaseMeas}{\mathbf{BasedMeas}}

    \relax %%%%%%%%% GENERAL MACROS %%%%%%%%
        \let\Horig\H
    	\let\H\relax
    	\DeclareMathOperator{\H}{\mathrm{H}} % Entropy
    	\DeclareMathOperator{\I}{\mathrm{I}} % Information
    	\DeclareMathOperator*{\Ex}{\mathbb{E}} % Expectation
    	\DeclareMathOperator*{\EX}{\scalebox{1.5}{$\mathbb{E}$}}

    	\DeclareMathOperator{\Hom}{\mathrm{Hom}} % Hom sets of a category
        
        \DeclarePairedDelimiter\bra{\langle}{\rvert}
        \DeclarePairedDelimiter\ket{\lvert}{\rangle}
        \DeclarePairedDelimiterX\braket[2]{\langle}{\rangle}{#1 \delimsize\vert #2}

        \newcommand{\mat}[1]{\mathbf{#1}}
        \DeclarePairedDelimiterX{\infdivx}[2]{(}{)}{%
    		#1\;\delimsize\|\;#2%
    	}
    	\newcommand{\thickD}{I\mkern-8muD}
    	\newcommand{\kldiv}{\thickD\infdivx}
    	\newcommand{\tto}{\rightarrow\mathrel{\mspace{-15mu}}\rightarrow}

    	\newcommand{\datadist}[1]{\Pr\nolimits_{#1}}
    	% \newcommand{\datadist}[1]{p_\text{data}}

    	\makeatletter
    	\newcommand{\subalign}[1]{%
    	  \vcenter{%
    	    \Let@ \restore@math@cr \default@tag
    	    \baselineskip\fontdimen10 \scriptfont\tw@
    	    \advance\baselineskip\fontdimen12 \scriptfont\tw@
    	    \lineskip\thr@@\fontdimen8 \scriptfont\thr@@
    	    \lineskiplimit\lineskip
    	    \ialign{\hfil$\m@th\scriptstyle##$&$\m@th\scriptstyle{}##$\hfil\crcr
    	      #1\crcr
    	    }%
    	  }%
    	}
    	\makeatother
    	\newcommand\numberthis{\addtocounter{equation}{1}\tag{\theequation}}

    \relax %%%%%%%%%   PDG  MACROS   %%%%%%%%
    	\newcommand{\ssub}[1]{_{\!_{#1}\!}}
    	% \newcommand{\bp}[1][L]{\mat{p}_{\!_{#1}\!}}
    	% \newcommand{\bP}[1][L]{\mat{P}_{\!_{#1}\!}}
    	\newcommand{\bp}[1][L]{\mat{p}\ssub{#1}}
    	\newcommand{\bP}[1][L]{\mat{P}\ssub{#1}}
    	\newcommand{\V}{\mathcal V}
    	\newcommand{\N}{\mathcal N}
    	\newcommand{\X}{\mathcal X}
        %replace this!
    	% \newcommand{\Ed}{\mathcal E}
        \newcommand{\Ed}{\mathcal A {(\color{red}\text{not }\mathcal E)}}
    	\newcommand{\Ar}{\mathcal A}
        
        \newcommand{\bsrc}{\mathbf{Trc}}
        \newcommand{\btgt}{\mathbf{Tgt}}
        \newcommand{\src}{\mathrm{Src}}
        \newcommand{\tgt}{\mathrm{Tgt}}

        \newcommand{\balpha}{\boldsymbol\alpha}
        \newcommand{\bbeta}{\boldsymbol\beta}

    	\DeclareMathAlphabet{\mathdcal}{U}{dutchcal}{m}{n}
    	\DeclareMathAlphabet{\mathbdcal}{U}{dutchcal}{b}{n}
    	\newcommand{\dg}[1]{\mathbdcal{#1}}
    	\newcommand{\PDGof}[1]{{\dg M}_{#1}}
    	\newcommand{\UPDGof}[1]{{\dg N}_{#1}}
    	\newcommand\VFE{\mathit{V\mkern-4mu F\mkern-4.5mu E}}

    	\newcommand\Inc{\mathit{Inc}}
    	\newcommand{\IDef}[1]{\mathit{IDef}_{\!#1}}
    	% \newcommand{\ed}[3]{%
    	% 	\mathchoice%
    	% 	{#2\overset{\smash{\mskip-5mu\raisebox{-3pt}{${#1}$}}}{\xrightarrow{\hphantom{\scriptstyle {#1}}}} #3} %display style
    	% 	{#2\overset{\smash{\mskip-5mu\raisebox{-3pt}{$\scriptstyle {#1}$}}}{\xrightarrow{\hphantom{\scriptstyle {#1}}}} #3}% text style
    	% 	{#2\overset{\smash{\mskip-5mu\raisebox{-3pt}{$\scriptscriptstyle {#1}$}}}{\xrightarrow{\hphantom{\scriptscriptstyle {#1}}}} #3} %script style
    	% 	{#2\overset{\smash{\mskip-5mu\raisebox{-3pt}{$\scriptscriptstyle {#1}$}}}{\xrightarrow{\hphantom{\scriptscriptstyle {#1}}}} #3}} %scriptscriptstyle
    	\newcommand{\ed}[3]{#2%
    	  \overset{\smash{\mskip-5mu\raisebox{-1pt}{$\scriptscriptstyle
    	        #1$}}}{\rightarrow} #3}

        \newcommand{\nhphantom}[2]{\sbox0{\kern-2%
    		\nulldelimiterspace$\left.\delimsize#1\vphantom{#2}\right.$}\hspace{-.97\wd0}}
    		% \nulldelimiterspace$\left.\delimsize#1%
    		% \vrule depth\dp#2 height \ht#2 width0pt\right.$}\hspace{-.97\wd0}}
    	\makeatletter
    	\newsavebox{\abcmycontentbox}
    	\newcommand\DeclareDoubleDelim[5]{
    	    \DeclarePairedDelimiterXPP{#1}[1]%
    			{% box must be saved in this pre code
    				\sbox{\abcmycontentbox}{\ensuremath{##1}}%
    			}{#2}{#5}{}%
    		    %%% Correct spacing, but doesn't work with externalize.
    			% {\nhphantom{#3}{##1}\hspace{1.2pt}\delimsize#3\mathopen{}##1\mathclose{}\delimsize#4\hspace{1.2pt}\nhphantom{#4}{##1}}
    			%%% Fast, but wrong spacing.
    			% {\nhphantom{#3}{~}\hspace{1.2pt}\delimsize#3\mathopen{}##1\mathclose{}\delimsize#4\hspace{1.2pt}\nhphantom{#4}{~}}
    			%%% with savebox.
    		    {%
    				\nhphantom{#3}{\usebox\abcmycontentbox}%
    				\hspace{1.2pt} \delimsize#3%
    				\mathopen{}\usebox{\abcmycontentbox}\mathclose{}%
    				\delimsize#4\hspace{1.2pt}%
    				\nhphantom{#4}{\usebox\abcmycontentbox}%
    			}%
    	}
    	\makeatother
    	\DeclareDoubleDelim
    		\SD\{\{\}\}
    	\DeclareDoubleDelim
    		\bbr[[]]
    	% \DeclareDoubleDelim
    	% 	\aar\langle\langle\rangle\rangle
    	\makeatletter
    	\newsavebox{\aar@content}
    	\newcommand\aar{\@ifstar\aar@one@star\aar@plain}
    	\newcommand\aar@one@star{\@ifstar\aar@resize{\aar@plain*}}
    	\newcommand\aar@resize[1]{\sbox{\aar@content}{#1}\scaleleftright[3.8ex]
    		{\Biggl\langle\!\!\!\!\Biggl\langle}{\usebox{\aar@content}}
    		{\Biggr\rangle\!\!\!\!\Biggr\rangle}}
    	\DeclareDoubleDelim
    		\aar@plain\langle\langle\rangle\rangle
    	\makeatother


    	% \DeclarePairedDelimiterX{\aar}[1]{\langle}{\rangle}
    	% 	{\nhphantom{\langle}{#1}\hspace{1.2pt}\delimsize\langle\mathopen{}#1\mathclose{}\delimsize\rangle\hspace{1.2pt}\nhphantom{\rangle}{#1}}

    \relax %%%%% restatables and links
    	% \usepackage{xstring} % for expandarg
    	\usepackage{xpatch}
    	\makeatletter
    	\xpatchcmd{\thmt@restatable}% Edit \thmt@restatable
    	   {\csname #2\@xa\endcsname\ifx\@nx#1\@nx\else[{#1}]\fi}% Replace this code
    	   % {\ifthmt@thisistheone\csname #2\@xa\endcsname\typeout{oiii[#1;#2\@xa;#3;\csname thmt@stored@#3\endcsname]}\ifx\@nx#1\@nx\else[#1]\fi\else\csname #2\@xa\endcsname\fi}% with this code
    	   {\ifthmt@thisistheone\csname #2\@xa\endcsname\ifx\@nx#1\@nx\else[{#1}]\fi
    	   \else\fi}
    	   {}{\typeout{FIRST PATCH TO THM RESTATE FAILED}} % execute on success/failure
    	\xpatchcmd{\thmt@restatable}% A second edit to \thmt@restatable
    	   {\csname end#2\endcsname}
    	   {\ifthmt@thisistheone\csname end#2\endcsname\else\fi}
    	   {}{\typeout{FAILED SECOND THMT RESTATE PATCH}}

    	% \def\onlyaftercolon#1:#2{#2}
    	\newcommand{\recall}[1]{\medskip\par\noindent{\bf \Cref{thmt@@#1}.} \begingroup\em \noindent
    	   \expandafter\csname#1\endcsname* \endgroup\par\smallskip}

       	\setlength\marginparwidth{1.55cm}
    	\newenvironment{linked}[3][]{%
    		\def\linkedproof{#3}%
    		\def\linkedtype{#2}%
    		% \reversemarginpar
    		% \marginpar{%
    		% \vspace{1.1em}
    		% % \hspace{2em}
    		% 	% \raggedleft
    		% 	\raggedright
    		% 	\hyperref[proof:\linkedproof]{%
    		% 	\color{blue!50!white}
    		% 	\scaleleftright{$\Big[$}{\,{\small\raggedleft\tt\begin{tabular}{@{}c@{}} proof of \\\linkedtype~\ref*{\linkedtype:\linkedproof}\end{tabular}}\,}{$\Big]$}}
    		% 	}%
            % \restatable[#1]{#2}{#2:#3}\label{#2:#3}%
    		\ifmarginprooflinks
    		\marginpar{%
    			% \vspace{-3em}% %% for bottom
    			\vspace{1.5em}
    			\centering%
    			\hyperref[proof:\linkedproof]{%
                % \hyperref[proof:#3]{
    			\color{blue!30!white}%
    			\scaleleftright{$\Big[$}{\,\mbox{\footnotesize\centering\tt\begin{tabular}{@{}c@{}}
    				% proof of \\\,\linkedtype~\ref*{\linkedtype:\linkedproof}
    				link to\\[-0.15em]
    				proof
    			\end{tabular}}\,}{$\Big]$}}~
    			}%
    		\fi
            \restatable[#1]{#2}{#2:#3}\label{#2:#3}%
            }%
    		{\endrestatable%
    		}
    	\makeatother
    		\newcounter{proofcntr}
    		\newenvironment{lproof}{\begin{proof}\refstepcounter{proofcntr}}{\end{proof}}

    		\usepackage{cancel}
    		\newcommand{\Cancel}[2][black]{{\color{#1}\cancel{\color{black}#2}}}

    		\usepackage{tcolorbox}
    		\tcbuselibrary{most}
    		\tcolorboxenvironment{lproof}{
    			% fonttitle=\bfseries,
    			% top=0.5em,
    			enhanced,
    			parbox=false,
    			boxrule=0pt,
    			frame hidden,
    			borderline west={4pt}{0pt}{blue!20!black!40!white},
    			% coltext={blue!20!black!60!white},
    			colback={blue!20!black!05!white},
    			sharp corners,
    			breakable,
    			% bottomsep at break=4cm,
    			% enlarge bottom at break by=-4cm,
    			% topsep at break=3cm,
    			% enlarge top at break by=-3cm
    		}
    		% \usepackage[framemethod=TikZ]{mdframed}
    		% \surroundwithmdframed[ % lproof
    		% 	   topline=false,
    		% 	   linewidth=3pt,
    		% 	   linecolor=gray!20!white,
    		% 	   rightline=false,
    		% 	   bottomline=false,
    		% 	   leftmargin=0pt,
    		% 	   % innerleftmargin=5pt,
    		% 	   skipabove=\medskipamount,
    		% 	   skipbelow=\medskipamount
    		% 	]{lproof}
    	%oli16: The extra space was because there was extra space in the paragraph, not
    	%because this length was too big. By breaking arrays, everything will be better.
    	\newcommand{\begthm}[3][]{\begin{#2}[{name=#1},restate=#3,label=#3]}

    \relax %TODOs and footnotes
        \newcommand{\TODO}[1][INCOMPLETE]{{\centering\Large\color{red}$\langle$~\texttt{#1}~$\rangle$\par}}
        \newcommand{\dfootnote}[1]{%
            \let\oldthefootnote=\thefootnote%
            % \addtocounter{footnote}{-1}%
    		\setcounter{footnote}{999}
            \renewcommand{\thefootnote}{\textdagger}%
            \footnote{#1}%
            \let\thefootnote=\oldthefootnote%
        }
    	\newcommand{\dfootnotemark}{
    		\footnotemark[999]
    	}

% \twocolumn
\setlength{\columnsep}{2em}
\setlength\parskip{1ex}
\usepackage[margin=1.0in]{geometry}

% \usepackage{arabtex}

\begin{document}

% THE CONCRETE, DOABLE PLAN
% - PDG definition given more carefully in general setting (measurable spaces), 
%       in terms of diagrams of the right shape
% ? (gamma) Inc + (1-gamma) IDef version
% - Free Energy is added to IDef, so it is positive.
%
%
% IDEALLY
% - characterize a universal property of PDGs 
% - and their inconsistency (which is superlinear / concave)
    \onecolumn

    The idea is to start from the beginning mathematically, clarifying the underlying mathematics, and demonstrating how the parameters work, mechanically.
    
    \tableofcontents
    \twocolumn
    \clearpage
    
    \section{Foundations}
    \subsection{Graph Theory}
    \begin{defn}[Graph]
        A graph $G = (V,E)$ is a set $V$ of vertices
        and a set $E$ of edges,
        whose elements $e \in E$
        correspond to unordered pairs of vertices
        via an implicit conversion
        \[
            \iota: E \to \faktor{ V \times V }{ ((u,v)\sim(v,u)) }.
            \qedhere
        \]
    \end{defn}
    
    \begin{defn}
        A \emph{directed graph} $G = (N, A)$ is a set $N$ of nodes,
        and a collection $A$ of arcs ; each $a \in A$ has a 
        source node $S_a \in N$ and a target node $T_a \in N$.
    \end{defn}
    
    \begin{defn}
        A bipartite graph $G = (L, R, E)$ is a graph $(L \sqcup R, E)$ whose
        vertices are partiioned into two components $V = L \sqcup R$, 
        and whose edges $E \subset L \times R$ are only between $L$ and $R$. 
    \end{defn}
    
    \begin{defn}
        A directed bipartite graph $G = (L, R, E)$ is a bipartite graph $(L, R, E)$ whose
        edges $E \subset (L \times R) \cup (R \times L)$ are directed. 
    \end{defn}
    
    
    \begin{defn}
        A \emph{hypergraph} $G = (V, \mathcal E)$ is a set $V$ of vertices,
        and a collection $\cal E$ of edges, which correspond to finite
        subsets of vertices. 
    \end{defn}
    
    \begin{defn}
        The \emph{dual} of the hypergraph $G = (V, \mathcal E)$ is
        \[
            G^* = (\mathcal E, \{\{e \in \mathcal E : v \in e\} : v \in V\})
        \]
    \end{defn}
    
    
    There is a natural correspondence between hypergraphs and bipartite graphs:
    \begin{align*}
        \mathit{BG}(V, \mathcal E) &:=  (V, \mathcal E, \{(v, E) \in V \times \mathcal E : v \in E \} ) \\
        % (L, \{\{x \in L : \} \}) &\maspfrom (L, R, E)
        \mathit{HG}(L, R, E) &:= (L, \{\{v \in L : (v,r) \in E\} : r \in R\})
    \end{align*}
    
    \begin{prop}
        \[
            \mathit{BG} \circ \mathit{HG} = \mathrm{id}_{BG}
            \quad\text{and}\quad
            \mathit{HG} \circ \mathit{BG} = \mathrm{id}_{HG}
        \]
    \end{prop}
    
    \begin{defn}
        A \emph{directed} hypergraph $(V, \mathcal A)$ is a set $V$ of vertices,
        and a collection $\Ar$  of 
    \end{defn}
    
    
    \subsection{Categories}
    \begin{defn}[Free category of a graph]
        If $G = (N, A)$ is a directed (multi) graph with nodes $N$ and arrows $A$, the \emph{free category generated by $G$} is the category $\mathrm{Paths}(N,A)$ whose objects are the elements of $N$, and whose set of morphisms from $x$ to $y$, for $x,y \in N$, is the collection of paths from $x$ to $y$.
        % , generated by the arrows of $A$ and identity self-loops from variables to themselves. 
        % 
        % \begin{align*}
        %     \mathrm{ob}~
        % \end{align*}
    \end{defn}
    
    \subsection{Measures}
    
    \begin{defn}[Measurable Space]
        A measurable space is a pair $(X, \mathcal F_X)$, where $X$ is a set, and   $\mathcal F_X$ is a sigma-algebra over $X$, which is to say a set of subsets of $X$, containing the empty set, and closed under countable union, intersection, and complement with respect to $X$.
        The elements of $\mathcal F_X$ are referred to as measurable sets.
    \end{defn}
    
    \begin{defn}[Measure]
        A \emph{measure} $\lambda$ over a measurable space $(X, \mathcal F)$ is a function $\lambda : \mathcal F \to \mathbb R \cup \{\infty\}$, with the follwing properties.
        \begin{itemize}[itemsep=0pt]
            \item \textbf{Null Empty Set.} $\lambda(\emptyset) = 0$
            \item \textbf{Non-negativity.} $\lambda(U) \ge 0$ for all $U \in \mathcal F$
            \item \textbf{Countable additivity.} For every coutable collection $\{U_i\}$ of pairwise disjoint measurable sets $U_i \in \mathcal F$, we have that
             $\sum_{i} \lambda(U_i) = \lambda(\sqcup_i U_i)$
        \end{itemize}
    \end{defn}
    
    \begin{defn}
        Consider a measure $\lambda$ on a mesurable space $\mathcal X = (X, \mathcal F)$.
        \begin{enumerate}
            \item If $\lambda(X) = 1$, then $\lambda$ is a \emph{probability} measure. \\
            \item If $\lambda(U) > 0$ for every non-empty set $U \in \mathcal F$, then $\lambda$ is \emph{strictly positive}.
            \item The measure $\lambda$ is called \emph{$\sigma$-finite} if $X$ can be
            covered with a countable set of sets with finite measures --- that is, if
            there exist countable sequence $(A_1, A_2, \ldots ) \subset \mathcal F$ the
            such that each $\lambda(A_i) < \infty$ is finite, and $X = \cup_{i=1}^{\infty}
            A_i$.
        \end{enumerate}
    \end{defn}
    
    \begin{defn}[absolute continuity]
        If $\mu$ and $\nu$ are measures over a space $(X, \mathcal F)$, 
        we say that $\mu$ is absolutely continuous with respect to $\nu$, denoted $\nu \ll \mu$, if, for every $U \in \mathcal F$ such that $\nu(U) = 0$, we also have $\mu(U) = 0$. 
    \end{defn}
    
    \begin{defn}[Measurable Functions]
        If $\mathcal X  = (X, \mathcal F)$, and $\mathcal Y = (Y, \mathcal G)$ are two measurable spaces, a measurable function $f : \mathcal X \to \mathcal Y$ is a function $f: X \to Y$ on the underlying spaces, such that 
        $f^{-1}(U) \in \mathcal F$ for every $U \in \mathcal G$.
    \end{defn}
    
    \begin{defn}[Markov Kernels]
        If $\mathcal X  = (X, \mathcal F)$, and $\mathcal Y = (Y, \mathcal G)$ are two measurable spaces, a Markov Kernel $\kappa : \mathcal X \to \mathcal Y$, which we sometimes write as ``$\kappa(Y|X)$'', is a function $\kappa : X \times \mathcal G \to \mathbb R$, such that
        \begin{enumerate}
            \item For every $x \in X$, the map $\kappa(x, -) : \mathcal U \to [0,1]$ is a probability measure. (So $\kappa$ is also a cpd.)
            \item For every $U \in \mathcal G$, the map $\kappa(-, U) : X \to [0,1]$ is a measurable function from $\mathcal X$ to the Borell space $[0,1]$
            --- or, more explicitly, for every open set $S \subset [0,1]$, and $U \in \mathcal G$, we have that
            $\{x : \kappa(x,U) \in S\} \in \mathcal F$. 
    \end{enumerate}
    \end{defn}
    
    \begin{defn}[category of measurable spaces with base measure]
        Let $\BaseMeas$ be the category of measureable spaces with a base measure, and Marov kernels that are absolutely continuous with respect to the base measure.
        Concretely,
        the objects of $\BaseMeas$ are pairs $(\mathcal X, \lambda)$, where $\mathcal X$ is a mesurable space, and $\lambda$ is a strictly positive and $\sigma$-finite measure on $\mathcal X$.
        % \begin{align*}
        %     \mathrm{ob}~\BaseMeas &= \Big\{ \text{pairs}~(\mathcal X, \lambda),
        %         ~\text{where $\mathcal X$ is a mesurable space, and $\lambda$ is a measure on $\mathcal X$} \Big\}%\\
        % \end{align*}
            % \BaseMeas(\lambda(X), \mu(Y)) &= \Big\{ \text{Markov Kernels $p(Y|X)$ such that} \\
            % 
            %     & \Big\}    
            % \end{align*}
        % and for objects $(X,\mathcal F_X \lambda_X)$ and
         % $(\mathcal Y = (Y,\mathcal G), \mu_X)$, 
        and the collection of morphisms from 
        $(X,\mathcal F_X, \lambda_X)$ to $(Y, \mathcal F_Y, \lambda_Y)$ is the 
        set of Markov Kernels $\kappa : \mathcal X \to \mathcal Y$
        such that 
        % $\mu \ll \kappa(x)$ for all $x$.        
        $\kappa(x,-) \ll \lambda_Y$ for all $x$.        
        %   $\BaseMeas(, (\mathcal Y, \mu))$ from $(\mathcal X, \lambda)$ to $(\mathcal X, \mu)$
        % are Markov Kernels $\kappa : \mathcal X \to \mathcal Y$ such that 
        
        Composition is given by Lebesgue Integration: for Markov Kernels $p(Y|X) : \mathcal X \to \mathcal Y$ and $q(Z|Y) : \mathcal Y \to \mathcal Z$, define
        $(p \circ q) : \mathcal X \to \mathcal Z$  (i.e., $p \circ q : X \times \mathcal F_Z \to [0,1]$) by:
        \begin{align*}
            (p\circ q)(x, U) :=& \int_{\mathcal Y}
                q(-, U)
                \mathrm d p(x,-);
                % \overbrace{q(-, U)}^{\mathcal Y\text{-measurable function}}
                % \mathrm d \overbrace{p(x,-)}^{\text{a measure of }\mathcal Y}
        \end{align*}
        we prove below that this definition gives rise to another , but note that it typechecks, since $q(-,U)$ is a $\mathcal Y$-measurable function, and $p(x,-)$ is a measure on $\mathcal Y$. 
        % for $U \in \mathcal F_Z$
        The identities are given by
        \begin{align*}
        \mathrm{id}_{\mathcal X}(x, U) &= \begin{cases}
                1 & \text{ if }x \in U \\ 0 & \text{otherwise}
            \end{cases}
        \end{align*}
        % {\color{red} !! this is problematic; such kernels are not absolutely continuous with respect to any base measure!}
    \end{defn}
    
    % \TODO[
    %     Possible to have other identity morphisms? Require that, for each $X \in \N$, the identity morphism $\dg M(\ed {\mathrm{id}}XX)$ preserves the base measure $\lambda_X$, in addition to pre/post committing 
    % ]
    
    % \begin{fact}
    %     All morphisms 
    % \end{fact}

    \section{PDGs}
    \begin{defn}
        A \emph{dependency graph} (DG), is a directed hypergraph
        % $\mathcal G = (\N, (\Ar, \src, \tgt)),$
        % $\mathcal G = (\N, \Ar, \src, \tgt)$
        $\mathcal G = (\X, \Ar)$
        % where $\N$ is a set of nodes,
        % and $\boldsymbol\Ar = (\Ar, \src,\tgt)$ is a set directed arrows, each with a source and target in $\N$.
        whose nodes $\X$ correspond to variables.
        % and maps  $\src, \tgt: \Ar \to \N$, implicit, give the nodes at the tail (source) of the arrow, and the head (target) of each arrow, respectively. 
    \end{defn}
    
    
    \begin{defn}
        A \emph{weighted PDG structure} $(\N, \Ar, \balpha)$ is a PDG structure $(\N, \Ar)$ together with a $\sigma$-algebra $\mathcal F_{\!\Ar}$ on the space of agents, and a (signed) measure $\alpha(\mathcal A)$.
        %, and a measure $\alpha(\mathcal A)$, called the \emph{degree of control}.
        
    \end{defn}
    
    A  (weighted) \emph{PDG hyper-structure} is a PDG structure, is the same thing except $\src$ and $\tgt$ can take sets of variables from $\N$.
    We are often more interested in directed hyper-edges than regular directed arcs, but in many contexts the two presentations are equivalent.
    
    % \begin{defn}
    %     A \emph{dependency graph} (DG), is a directed (multi)-graph
    %     % $\mathcal G = (\N, (\Ar, \src, \tgt)),$
    %     $\mathcal G = (\N, \Ar, \src, \tgt)$
    %     where $\N$ is a set of nodes, and $\boldsymbol\Ar = (\Ar, \src,\tgt)$ is a set directed arrows, each with a source and target in $\N$.
    %     % and maps  $\src, \tgt: \Ar \to \N$, implicit, give the nodes at the tail (source) of the arrow, and the head (target) of each arrow, respectively. 
    % \end{defn}
    % 
    % \begin{defn}
    %     A \emph{weighted PDG structure} $(\N, \Ar, \balpha)$ is a PDG structure $(\N, \Ar)$ together with a $\sigma$-algebra $\mathcal F_{\!\Ar}$ on the space of agents, and a (signed) measure $\alpha(\mathcal A)$.
    %     %, and a measure $\alpha(\mathcal A)$, called the \emph{degree of control}.
    % 
    % \end{defn}
    % 
    % A  (weighted) \emph{PDG hyper-structure} is a PDG structure, is the same thing except $\src$ and $\tgt$ can take sets of variables from $\N$.
    % We are often more interested in directed hyper-edges than regular directed arcs, but in many contexts the two presentations are equivalent.
    
    \begin{defn}
        An \emph{unweighted PDG} $\mathbb P$ over a structure $(\N, \Ar)$ is a functor
        % $\mathrm{Paths}(\N,\Ar)$
        \[ 
            {\mathbb P} = (\V, \mathcal P)  : \mathrm{Paths}(\N, \Ar) \to  \BaseMeas
        \] 
        whose action on objects $\N$ is written $\V(X)$, and whose action on the generating morphisms $\ed aXY \in \Ar$ is written $p\ssub a(Y|X)$.
    \end{defn}   
    
    
    \begin{defn}[PDG]
        A PDG $\dg M = (\mathbb P, \balpha, \bbeta)$ over
        a directed hypergraph $(\N, \Ar)$ is an unweighted PDG $\mathbb P$ over $(\N, \Ar)$
        together with a 
        weighted hypergraph $\bbeta \in \Delta \Hom_{\mathcal A}$
        % \[ 
        %     \mathrm{Paths}(\N, \Ar) \to \BaseMeas
        % \]
        
    \end{defn}
    
    
    \subsection{Semantics}
    Given a weighted PDG structure $(\N, \Ar, \balpha)$, consider the scoring function 
    \begin{align*}
        \IDef{} : 
    \end{align*}
    
    
    
    \[ \] 

    
    
    \section{A Computational Model}
    There are agents $\mathcal A$; 
    \begin{center}
        \begin{tikzpicture}
            
        \end{tikzpicture}
    \end{center}
    % \]
    
    

\end{document}
